<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="hm1988() generates Houston &amp;amp; McNamara's (1988) optimal model for risk-sensitive foraging with discrete choices."><title>Dynamic optimization model for risk-sensitive foraging problems in discrete time — hm1988 • cognitivemodels</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Serif%20Pro-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Inconsolata-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Fira%20Sans%20Condensed-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Dynamic optimization model for risk-sensitive foraging problems in discrete time — hm1988"><meta property="og:description" content="hm1988() generates Houston &amp;amp; McNamara's (1988) optimal model for risk-sensitive foraging with discrete choices."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cognitivemodels</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.12</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/iccm_article.html">Introduction</a>
    <a class="dropdown-item" href="../articles/used_in.html">Used in</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Dynamic optimization model for risk-sensitive foraging problems in discrete time</h1>
      
      <div class="d-none name"><code>hm1988.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>hm1988()</code> generates Houston &amp; McNamara's (1988) optimal model for risk-sensitive foraging with discrete choices.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hm1988</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">trials</span>,</span>
<span>  <span class="va">states</span>,</span>
<span>  <span class="va">budget</span>,</span>
<span>  <span class="va">ntrials</span>,</span>
<span>  initstate <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  choicerule <span class="op">=</span> <span class="st">"argmax"</span>,</span>
<span>  fix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  options <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fitnessfun <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula</dt>
<dd><p>A <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a>, the variables in <code>data</code> to be modeled. For example, <code>y ~ x1 + p2 + x3 + p4 | x5 + p6 + x7 + p8</code> models response y as function of two stimuli with features x1, p2, x3, p4 and x5, p6, x7, p8, alternating outcomes <code>x</code> and probabilities <code>p</code> (respectively). Lines <code>|</code> separate stimuli.</p></dd>


<dt>trials</dt>
<dd><p>The variable in <code>data</code> with the decision trial, can be a number, numeric vector, string, formula, or <code>".ALL"</code>. Vectors must have length <code>nrow(data)</code>. If <code>".ALL"</code> the model predicts for all possible trials and states.</p></dd>


<dt>states</dt>
<dd><p>The variable in <code>data</code> with the states/accumulated resources, can be a number, numeric vector, string, formula, or <code>".ALL"</code>. Vectors must have length <code>nrow(data)</code>. If <code>".ALL"</code> the model predicts for all possible trials and states.</p></dd>


<dt>budget</dt>
<dd><p>A number; the goal/requirement/critical state, that matters in the terminal payout function. Can also be a numeric vector of length <code>nrow(data)</code>, or a right-side formula that refers to a variable in <code>data</code>.</p></dd>


<dt>ntrials</dt>
<dd><p>A number; the total number of trials available. Can also be a numeric vector of length <code>nrow(data)</code>, or a right-side formula that refers to a variable in <code>data</code>.</p></dd>


<dt>initstate</dt>
<dd><p>(default 0) A number; the starting state in the first trial. Can also be a numeric vector of length <code>nrow(data)</code>, or a right-side formula that refers to a variable in <code>data</code>.</p></dd>


<dt>data</dt>
<dd><p>A data frame, the data to be modeled.</p></dd>


<dt>choicerule</dt>
<dd><p>A string, the choice rule. Allowed values, see  <code><a href="cm_choicerules.html">cm_choicerules()</a></code>: <code>"none"</code> is no choice rule, <code>"softmax"</code> is <a href="https://en.wikipedia.org/wiki/Softmax_function" class="external-link">soft-maximum</a>, <code>"luce"</code> is <a href="https://en.wikipedia.org/wiki/Luce%27s_choice_axiom" class="external-link">Luce's axiom</a>.</p></dd>


<dt>fix</dt>
<dd><p>(optional, only for <code>choicerule</code> softmax, epsilon) A list with parameter-value pairs of fixed parameters. If missing all free parameters are estimated. If set to <code>"start"</code> all parameters are fixed to their start values. Model parameter names depend on <code>choicerule</code> and can be <em><code>tau</code>, <code>eps</code></em> (see details - model parameters).</p><ul><li><p><code>list(tau = 6.16)</code> sets parameter <em><code>tau</code></em> equal to 6.16.</p></li>
<li><p><code>"start"</code> sets all parameters equal to their initial values (estimates none). Useful for building a first test model.</p></li>
</ul></dd>


<dt>options</dt>
<dd><p>(optional) A list, list entries change the modeling procedure. For example, <code>list(lb = c(k=0))</code> changes the lower bound of parameter <em>k</em> to 0, or <code>list(fit_measure = "mse")</code> changes the goodness of fit measure in parameter estimation to mean-squared error,  for all options, see <a href="cm_options.html">cm_options</a>.</p></dd>


<dt>fitnessfun</dt>
<dd><p>(optional) A function, the terminal fitness function, needs two arguments, <code>budget</code> and <code>state</code>.</p></dd>


<dt>discount</dt>
<dd><p>A number, how many initial trials to not use during parameter fitting.</p></dd>


<dt>...</dt>
<dd><p>other arguments, ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns a cognitive model object, which is an object of class <a href="Cm">cm</a>. A model, that has been assigned to <code>m</code>, can be summarized with <code>summary(m)</code> or <code>anova(m)</code>. The parameter space can be viewed using <code>pa. rspace(m)</code>, constraints can be viewed using <code>constraints(m)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Risk-sensitive foraging means you have, for instance, four choices between the same two risky lotteries and after the four choices you need to have accumulated at least 12 points to get a reward. The optimal solution to this choice problem relies on dynamic programming. The function creates all possible future states given the possible remaining trials, and predicts the optimal choice polica or the expected value of chosing either option given a certain state and a certain time horizon.</p><div class="section">
<h3 id="model-parameters">Model Parameters<a class="anchor" aria-label="anchor" href="#model-parameters"></a></h3>


<p>The model has no free parameters. If <code>choicerule</code> is specified, it can estimate 1 free parameter: If <code>choicerule = "softmax"</code>: <em><strong><code>tau</code></strong></em>  is the temperature or choice softness, higher values cause more equiprobable choices. If <code>choicerule = "epsilon"</code>: <em><strong><code>eps</code></strong></em> is the error proportion, higher values cause more errors from maximizing.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Houston, A. I., &amp; McNamara, J. M. (1988). A framework for the functional analysis of behaviour. Behavioural and Brain Science, 11, 117-163. <a href="https://doi.org/10.1017/S0140525X00053061" class="external-link">doi:10.1017/S0140525X00053061</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other cognitive models: 
<code><a href="baseline.html">baseline_const_c</a>()</code>,
<code><a href="bayes.html">bayes</a>()</code>,
<code><a href="choicerules.html">choicerules</a></code>,
<code><a href="cpt.html">cpt</a></code>,
<code><a href="ebm.html">ebm</a>()</code>,
<code><a href="shift.html">shift</a>()</code>,
<code><a href="shortfall.html">shortfall</a></code>,
<code><a href="threshold.html">threshold</a>()</code>,
<code><a href="utility.html">utility</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Jana B. Jarecki, <a href="mailto:jj@janajarecki.com">jj@janajarecki.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Make fake data -----------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">D</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x1 <span class="op">=</span> <span class="fl">0</span>, x2 <span class="op">=</span> <span class="fl">1</span>, x3 <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  px11 <span class="op">=</span> <span class="fl">0.1</span>, px12 <span class="op">=</span> <span class="fl">0.8</span>, px13 <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  px21 <span class="op">=</span> <span class="fl">0.4</span>, px22 <span class="op">=</span> <span class="fl">0.2</span>, px23 <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span>, each <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  init <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">9</span><span class="op">:</span><span class="fl">11</span>, each <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>, t <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Setup the model --------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu">hm1988</span><span class="op">(</span><span class="op">~</span> <span class="va">x1</span><span class="op">+</span><span class="va">px11</span><span class="op">+</span><span class="va">x2</span><span class="op">+</span><span class="va">px12</span><span class="op">+</span><span class="va">x3</span><span class="op">+</span><span class="va">px13</span> <span class="op">|</span> <span class="va">x1</span><span class="op">+</span><span class="va">px21</span><span class="op">+</span><span class="va">x2</span><span class="op">+</span><span class="va">px22</span><span class="op">+</span><span class="va">x3</span><span class="op">+</span><span class="va">px23</span>,</span></span>
<span class="r-in"><span>             trials <span class="op">=</span> <span class="op">~</span><span class="va">t</span>, states <span class="op">=</span> <span class="op">~</span><span class="va">s</span>, budget <span class="op">=</span> <span class="fl">12</span>, ntrials <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>             initstate <span class="op">=</span> <span class="op">~</span><span class="va">init</span>, data <span class="op">=</span> <span class="va">D</span>, choicerule <span class="op">=</span> <span class="st">"argmax"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">M</span>                          <span class="co"># View model</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimal RSFT Model (Houston &amp; McNamara, 1988) | choice rule: argmax</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hm1988(formula = ~x1 + px11 + x2 + px12 + x3 + px13 | x1 + px21 +  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:  No free parameters. No fixed parameter. </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span>                 <span class="co"># Predict choice probability of 1st option (arg-max)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.5 0.0 1.0 1.0 0.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">M</span>, type<span class="op">=</span><span class="st">"values"</span><span class="op">)</span>  <span class="co"># Predict expected values</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x1px1  x1px2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.0000 0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.4100 0.4400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.8310 0.7440</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.9654 0.9276</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.1000 0.4000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.8600 0.7400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.9780 0.9420</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.9970 0.9910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.9000 0.6000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.9900 0.9600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 0.9990 0.9960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] 0.9999 0.9996</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jana Jarecki, Florian Seitz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Provided without any warranty. Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

